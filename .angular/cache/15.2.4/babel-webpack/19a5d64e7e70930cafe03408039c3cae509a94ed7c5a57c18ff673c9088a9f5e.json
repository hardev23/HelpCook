{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../mostrar-recetas/recetasService.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-bar-rating\";\nfunction MostrarRecetasIngredientesComponent_div_6_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 16);\n  }\n}\nfunction MostrarRecetasIngredientesComponent_div_6_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 17);\n  }\n}\nfunction MostrarRecetasIngredientesComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"bar-rating\", 9);\n    i0.ɵɵlistener(\"rateChange\", function MostrarRecetasIngredientesComponent_div_6_Template_bar_rating_rateChange_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const receta_r1 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(receta_r1.valoracionMedia = $event);\n    });\n    i0.ɵɵtemplate(6, MostrarRecetasIngredientesComponent_div_6_ng_template_6_Template, 1, 0, \"ng-template\", 10);\n    i0.ɵɵtemplate(7, MostrarRecetasIngredientesComponent_div_6_ng_template_7_Template, 1, 0, \"ng-template\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 12)(9, \"input\", 13);\n    i0.ɵɵlistener(\"click\", function MostrarRecetasIngredientesComponent_div_6_Template_input_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const receta_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.mandarUsuarioReceta(receta_r1.idRecetas));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 14)(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 15);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const receta_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", receta_r1.titulo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"rate\", receta_r1.valoracionMedia)(\"max\", 5)(\"readOnly\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", receta_r1.foto, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(receta_r1.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(15, 7, receta_r1.fechaAlta, \"dd/MM/yyyy\"), \" \");\n  }\n}\n/**\r\n * Componente para la página donde se mostrarán las recetas filtradas por ingredientes\r\n */\nexport class MostrarRecetasIngredientesComponent {\n  /**\r\n   * Injectamos los servicios necesarios para el funcionamiento de la página\r\n   * @param recetasService Servicio para la conexion con el back para la recepción de las recetas\r\n   * @param router  Para el envio del Usuario a otras páginas\r\n   */\n  constructor(recetasService, router) {\n    this.recetasService = recetasService;\n    this.router = router;\n    /**\r\n     * Variable para almacenar la opción de los ingredientes que queremos obtener\r\n     */\n    this.ingredientesSeleccionados = [];\n    /**\r\n    * Array de Recetas para almacenar las recetas que llegan del Backend\r\n    */\n    this.recetas = [];\n    this.usuario = null;\n  }\n  /**\r\n   * Método que se carga cuando inicia la página\r\n   *\r\n   * LLamamos al metodo obtener recetas y le pasamos el valor de ingredientes seleccionados para\r\n   * que nos pase solo las recetas que contienen los ingredientes que ha seleccionado el usuario\r\n   *\r\n   */\n  ngOnInit() {\n    const navigationState = history.state;\n    this.usuario = history.state.usuario;\n    this.ingredientesSeleccionados = navigationState.idIngredientes;\n    console.log(this.ingredientesSeleccionados);\n    this.recetasService.obtenerTodos(null, this.ingredientesSeleccionados, null, null).subscribe(recetas => {\n      this.recetas = recetas;\n    });\n  }\n  /**\r\n     * Método para mandar el usuario si está registrado y la recetas que se quiere visualizar a la página Mostrar una receta\r\n     * @param recetaId\r\n     */\n  mandarUsuarioReceta(recetaId) {\n    this.router.navigate(['/mostraUnaReceta'], {\n      state: {\n        usuario: this.usuario,\n        recetaId: recetaId\n      }\n    });\n  }\n  /**\r\n  * Método para el routing a la página de inicio mandando al Usuario\r\n  */\n  volverInicio() {\n    this.router.navigate([''], {\n      state: {\n        usuario: this.usuario\n      }\n    });\n  }\n}\nMostrarRecetasIngredientesComponent.ɵfac = function MostrarRecetasIngredientesComponent_Factory(t) {\n  return new (t || MostrarRecetasIngredientesComponent)(i0.ɵɵdirectiveInject(i1.recetasService), i0.ɵɵdirectiveInject(i2.Router));\n};\nMostrarRecetasIngredientesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MostrarRecetasIngredientesComponent,\n  selectors: [[\"app-mostrar-recetas-ingredientes\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[1, \"text-center\", 2, \"margin-top\", \"30px\"], [1, \"nav-link\", 3, \"click\"], [\"src\", \"/assets/img/logo.png\", \"alt\", \"\", 1, \"w-25\"], [1, \"container\", \"rounded\", \"receta\"], [\"class\", \"container pt-5 \", \"style\", \"margin-top: 50px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"container\", \"pt-5\", 2, \"margin-top\", \"50px\"], [1, \"row\", \"rounded\", \"outer\"], [1, \"col-md-10\", \"text-center\", \"titulo\"], [1, \"col-md-2\", 2, \"margin-top\", \"50px\"], [3, \"rate\", \"max\", \"readOnly\", \"rateChange\"], [\"ratingActive\", \"\"], [\"ratingInactive\", \"\"], [1, \"col-md-6\", 2, \"margin-top\", \"40px\"], [\"type\", \"image\", \"width\", \"350px\", 1, \"rounded\", 3, \"src\", \"click\"], [1, \"col-md-5\", \"descripcion\", \"rounded\"], [1, \"fechaAlta\"], [1, \"bi\", \"bi-star-fill\", 2, \"margin\", \"2px\", \"color\", \"#3c240d\"], [1, \"bi\", \"bi-star-fill\", 2, \"margin\", \"2px\", \"color\", \"#d4d0c4\"]],\n  template: function MostrarRecetasIngredientesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n      i0.ɵɵlistener(\"click\", function MostrarRecetasIngredientesComponent_Template_a_click_1_listener() {\n        return ctx.volverInicio();\n      });\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"h1\");\n      i0.ɵɵtext(5, \" Estas son las recetas en base a los ingredientes que has seleccionado \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(6, MostrarRecetasIngredientesComponent_div_6_Template, 16, 10, \"div\", 4);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.recetas);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.BarRating, i4.ActiveRating, i4.InactiveRating, i3.DatePipe],\n  styles: [\".outer[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin-top: 50px;\\n    background-color: #d4d0c4;\\n  }\\n  \\n  .titulo[_ngcontent-%COMP%] {\\n    font-size: 60px;\\n    margin-top: 30px;\\n    font-weight: bold;\\n  }\\n  .receta[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    height: 80px;\\n    font-size: 50px;\\n    margin-top: 50px;\\n    background-color: #8b9a8a;\\n    color: #fdfefe;\\n  }\\n  .fechaAlta[_ngcontent-%COMP%] {\\n    text-align: right;\\n    margin-right: 100px;\\n    margin-bottom: 40px;\\n    font-size: x-large;\\n    font-weight: bolder;\\n  }\\n  .descripcion[_ngcontent-%COMP%] {\\n    font-size: 25px;\\n    background-color: #3c240d;\\n    color: #d4d0c4;\\n  }\\n  \\n  i[_ngcontent-%COMP%] {\\n    font-size: 30px;\\n  }\\n  .star-icon[_ngcontent-%COMP%] {\\n    border: 1px solid #3c240d;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbW9zdHJhci1yZWNldGFzLWluZ3JlZGllbnRlcy9tb3N0cmFyLXJlY2V0YXMtaW5ncmVkaWVudGVzL21vc3RyYXItcmVjZXRhcy1pbmdyZWRpZW50ZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQix5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIseUJBQXlCO0lBQ3pCLGNBQWM7RUFDaEI7RUFDQTtJQUNFLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixtQkFBbUI7RUFDckI7RUFDQTtJQUNFLGVBQWU7SUFDZix5QkFBeUI7SUFDekIsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7RUFDQTtJQUNFLHlCQUF5QjtFQUMzQiIsInNvdXJjZXNDb250ZW50IjpbIi5vdXRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDUwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZDBjNDtcbiAgfVxuICBcbiAgLnRpdHVsbyB7XG4gICAgZm9udC1zaXplOiA2MHB4O1xuICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgLnJlY2V0YSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGhlaWdodDogODBweDtcbiAgICBmb250LXNpemU6IDUwcHg7XG4gICAgbWFyZ2luLXRvcDogNTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGI5YThhO1xuICAgIGNvbG9yOiAjZmRmZWZlO1xuICB9XG4gIC5mZWNoYUFsdGEge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIG1hcmdpbi1yaWdodDogMTAwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDtcbiAgICBmb250LXNpemU6IHgtbGFyZ2U7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgfVxuICAuZGVzY3JpcGNpb24ge1xuICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2MyNDBkO1xuICAgIGNvbG9yOiAjZDRkMGM0O1xuICB9XG4gIFxuICBpIHtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gIH1cbiAgLnN0YXItaWNvbiB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzNjMjQwZDtcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAwBgBA,wBAAmE;;;;;IAGnEA,wBAAkE;;;;;;IAdhFA,8BAAuF;IAK3EA,YACJ;IAAAA,iBAAM;IAENA,8BAAiD;IACnCA;MAAA;MAAA;MAAA,OAAUA,kDAA8B;IAAA,EAAP;IAC3CA,2GAEc;IACdA,2GAEc;IAChBA,iBAAa;IAGfA,+BAAiD;IAK7CA;MAAA;MAAA;MAAA;MAAA,OAASA,8DAAqC;IAAA,EAAC;IAJ/CA,iBAKA;IAGJA,gCAA2C;IACnCA,aAAwB;IAAAA,iBAAI;IAGpCA,gCAAuB;IACrBA,aACF;;IAAAA,iBAAM;;;;IA7BFA,eACJ;IADIA,iDACJ;IAGcA,eAAiC;IAAjCA,gDAAiC;IAY3CA,eAAmB;IAAnBA,iEAAmB;IAQfA,eAAwB;IAAxBA,2CAAwB;IAI9BA,eACF;IADEA,yFACF;;;ACvCV;;;AAQA,OAAM,MAAOC,mCAAmC;EAiB9C;;;;;EAKAC,YAAoBC,cAA8B,EAAUC,MAAc;IAAtD,mBAAc,GAAdD,cAAc;IAA0B,WAAM,GAANC,MAAM;IApBlE;;;IAGA,8BAAyB,GAAmB,EAAE;IAE9C;;;IAGA,YAAO,GAAY,EAAE;IAanB,IAAI,CAACC,OAAO,GAAC,IAAI;EACnB;EAEA;;;;;;;EAOAC,QAAQ;IACN,MAAMC,eAAe,GAAGC,OAAO,CAACC,KAAK;IACrC,IAAI,CAACJ,OAAO,GAAGG,OAAO,CAACC,KAAK,CAACJ,OAAO;IACpC,IAAI,CAACK,yBAAyB,GAAGH,eAAe,CAACI,cAAc;IAE/DC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,yBAAyB,CAAC;IAC3C,IAAI,CAACP,cAAc,CAACW,YAAY,CAAC,IAAI,EAAC,IAAI,CAACJ,yBAAyB,EAAC,IAAI,EAAE,IAAI,CAAC,CAACK,SAAS,CAACC,OAAO,IAAE;MACjG,IAAI,CAACA,OAAO,GAAGA,OAAO;IAAC,CAAC,CAAC;EAE9B;EAEA;;;;EAIAC,mBAAmB,CAACC,QAAgB;IAElC,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,kBAAkB,CAAC,EAAC;MAACV,KAAK,EAAC;QAACJ,OAAO,EAAC,IAAI,CAACA,OAAO;QAACa,QAAQ,EAACA;MAAQ;IAAE,CAAC,CAAC;EAC9F;EAEE;;;EAGFE,YAAY;IACV,IAAI,CAAChB,MAAM,CAACe,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAC;MAACV,KAAK,EAAC;QAACJ,OAAO,EAAC,IAAI,CAACA;MAAO;IAAC,CAAC,CAAC;EAC3D;;AA1DWJ,mCAAmC;mBAAnCA,mCAAmC;AAAA;AAAnCA,mCAAmC;QAAnCA,mCAAmC;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDfhDzB,8BAAkD;MAC5BA;QAAA,OAAS0B,kBAAc;MAAA,EAAC;MACzC1B,yBACD;MAAAA,iBAAI;MAGNA,8BAAsC;MAEhCA,uFACA;MAAAA,iBAAK;MAGXA,sFAoCQ;;;MApCkEA,eAAU;MAAVA,qCAAU","names":["i0","MostrarRecetasIngredientesComponent","constructor","recetasService","router","usuario","ngOnInit","navigationState","history","state","ingredientesSeleccionados","idIngredientes","console","log","obtenerTodos","subscribe","recetas","mandarUsuarioReceta","recetaId","navigate","volverInicio","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\mostrar-recetas-ingredientes\\mostrar-recetas-ingredientes\\mostrar-recetas-ingredientes.component.html","C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\mostrar-recetas-ingredientes\\mostrar-recetas-ingredientes\\mostrar-recetas-ingredientes.component.ts"],"sourcesContent":["<!-- Seccion logo -->\n<div class=\"text-center\" style=\"margin-top: 30px\">\n  <a class=\"nav-link\" (click)=\"volverInicio()\"\n    ><img src=\"/assets/img/logo.png\" class=\"w-25\" alt=\"\"\n  /></a>\n</div>\n  <!-- Titulo de las recetas que se van a mostrar -->\n  <div class=\"container rounded receta\">\n        <h1>\n        Estas son las recetas en base a los ingredientes que has seleccionado\n        </h1>\n  </div>\n  <!-- Recetas que se muestran -->\n  <div class=\"container pt-5 \" style=\"margin-top: 50px;\" *ngFor=\"let receta of recetas\" >\n    \n    <!-- Titulo-->   \n        <div class=\"row  rounded outer\">\n          <div class=\"col-md-10 text-center titulo\" >\n              {{ receta.titulo }} \n          </div>\n  <!-- Valoracion -->  \n          <div class=\"col-md-2\" style=\"margin-top: 50px;\" >\n            <bar-rating [(rate)]=\"receta.valoracionMedia\" [max]=\"5\" [readOnly]=\"true\">\n              <ng-template ratingActive>\n                <i class=\"bi bi-star-fill\" style=\"margin: 2px; color: #3c240d\"></i>\n              </ng-template>\n              <ng-template ratingInactive>\n                <i class=\"bi bi-star-fill\" style=\"margin: 2px; color:#d4d0c4\"></i>\n              </ng-template>\n            </bar-rating>\n          </div>\n  <!-- Foto-->  \n          <div class=\"col-md-6\" style=\"margin-top: 40px;\" >\n              <input type=\"image\" \n              src={{receta.foto}}\n              class=\"rounded\"\n              width=\"350px\"\n              (click)=\"mandarUsuarioReceta(receta.idRecetas)\"\n            />\n          </div>\n  <!-- Descripcion-->  \n          <div class=\"col-md-5 descripcion rounded\" >\n              <p >{{ receta.descripcion }}</p>\n          </div>\n  <!-- FechaAlta-->  \n          <div class=\"fechaAlta\">  \n            {{receta.fechaAlta | date:'dd/MM/yyyy'}}\n          </div>\n      </div>\n    </div> ","import { Component, NgModule, OnInit } from '@angular/core';\nimport { Receta } from 'src/app/Receta.model';\nimport { Ingredientes } from 'src/app/Ingredientes.model';\nimport { Usuarios } from 'src/app/Usuarios.model';\nimport { Router } from '@angular/router';\nimport { recetasService } from '../../mostrar-recetas/recetasService.service';\n\n\n/**\n * Componente para la página donde se mostrarán las recetas filtradas por ingredientes\n */\n@Component({\n  selector: 'app-mostrar-recetas-ingredientes',\n  templateUrl: './mostrar-recetas-ingredientes.component.html', \n  styleUrls: ['./mostrar-recetas-ingredientes.component.css']\n})\nexport class MostrarRecetasIngredientesComponent implements OnInit{\n\n  /**\n   * Variable para almacenar la opción de los ingredientes que queremos obtener\n   */\n  ingredientesSeleccionados: Ingredientes[] = [];\n\n  /**\n  * Array de Recetas para almacenar las recetas que llegan del Backend\n  */\n  recetas:Receta[] = [];\n\n  /**\n * Objeto usuario para recibirlo en la página si proviene de haberse registrado\n */\n  usuario: Usuarios;\n\n  /**\n   * Injectamos los servicios necesarios para el funcionamiento de la página\n   * @param recetasService Servicio para la conexion con el back para la recepción de las recetas\n   * @param router  Para el envio del Usuario a otras páginas\n   */\n  constructor(private recetasService: recetasService, private router: Router) { \n    this.usuario=null;\n  }\n\n  /**\n   * Método que se carga cuando inicia la página\n   *\n   * LLamamos al metodo obtener recetas y le pasamos el valor de ingredientes seleccionados para\n   * que nos pase solo las recetas que contienen los ingredientes que ha seleccionado el usuario\n   *\n   */\n  ngOnInit(): void {\n    const navigationState = history.state;\n    this.usuario = history.state.usuario;\n    this.ingredientesSeleccionados = navigationState.idIngredientes;    \n\n    console.log(this.ingredientesSeleccionados);\n    this.recetasService.obtenerTodos(null,this.ingredientesSeleccionados,null, null).subscribe(recetas=>\n      {this.recetas = recetas;});\n\n  }\n\n  /**\n     * Método para mandar el usuario si está registrado y la recetas que se quiere visualizar a la página Mostrar una receta\n     * @param recetaId \n     */\n  mandarUsuarioReceta(recetaId: number){\n  \n    this.router.navigate(['/mostraUnaReceta'],{state:{usuario:this.usuario,recetaId:recetaId }}); \n  }\n\n    /**\n   * Método para el routing a la página de inicio mandando al Usuario\n   */\n  volverInicio(){\n    this.router.navigate([''],{state:{usuario:this.usuario}});\n  }\n\n}\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}