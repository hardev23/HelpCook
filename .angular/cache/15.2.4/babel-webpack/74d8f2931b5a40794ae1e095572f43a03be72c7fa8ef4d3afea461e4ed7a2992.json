{"ast":null,"code":"import { Favoritos } from 'src/app/Favoritos.model';\nimport { Valoraciones } from 'src/app/Valoraciones.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/pages/mostrar-recetas/recetasService.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"ngx-bar-rating\";\nfunction MostrarUnaRecetaComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 28);\n  }\n}\nfunction MostrarUnaRecetaComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 29);\n  }\n}\nfunction MostrarUnaRecetaComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"label\", 31);\n    i0.ɵɵtext(2, \"A\\u00F1ade una nota para la receta:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function MostrarUnaRecetaComponent_div_13_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.descripcionFavorito = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function MostrarUnaRecetaComponent_div_13_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.guardarReceta());\n    });\n    i0.ɵɵelement(5, \"i\", 34);\n    i0.ɵɵtext(6, \" Guardar receta\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.descripcionFavorito);\n  }\n}\nfunction MostrarUnaRecetaComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u00A1Ups! Todav\\u00EDa tenemos que buscar los ingredientes.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MostrarUnaRecetaComponent_li_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingrediente_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ingrediente_r11.nombre, \": \", ingrediente_r11.cantidad, \" \");\n  }\n}\nfunction MostrarUnaRecetaComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"h4\", 37);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"img\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paso_r12 = ctx.$implicit;\n    const i_r13 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Paso \", i_r13 + 1, \":\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(paso_r12.descripcion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", paso_r12.foto, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MostrarUnaRecetaComponent_bar_rating_49_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 28);\n  }\n}\nfunction MostrarUnaRecetaComponent_bar_rating_49_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 29);\n  }\n}\nfunction MostrarUnaRecetaComponent_bar_rating_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"bar-rating\", 39);\n    i0.ɵɵlistener(\"rateChange\", function MostrarUnaRecetaComponent_bar_rating_49_Template_bar_rating_rateChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.valorarReceta($event));\n    });\n    i0.ɵɵtemplate(1, MostrarUnaRecetaComponent_bar_rating_49_ng_template_1_Template, 1, 0, \"ng-template\", 7);\n    i0.ɵɵtemplate(2, MostrarUnaRecetaComponent_bar_rating_49_ng_template_2_Template, 1, 0, \"ng-template\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"rate\", ctx_r6.nuevaValoracion)(\"max\", 5);\n  }\n}\nfunction MostrarUnaRecetaComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.mensajeValoracion);\n  }\n}\n/**\r\n * Componente para la página de mostrar una receta\r\n *\r\n * Se mostrará la receta que haya seleccionado el usuario\r\n */\nexport class MostrarUnaRecetaComponent {\n  /**\r\n   * Injectamos los servicios necesarios para el funcionamiento de la página\r\n   *\r\n   * @param router Para el envio del Usuario a otras páginas\r\n   * @param recetasService Servicio para conectar con el backEnd\r\n   */\n  constructor(router, recetasService) {\n    this.router = router;\n    this.recetasService = recetasService;\n    this.usuario = null;\n  }\n  /**\r\n   * Método que se carga cuando inicia la página\r\n   *\r\n   * Recogemos el id de la receta que se quiere mostrar mediante el route\r\n   *\r\n   * Llamamos al servicio de Recetas para la petición al back y almacenamos en nuestra variable receta la receta obtenida del servicio\r\n   */\n  ngOnInit() {\n    const navigationState = history.state;\n    this.usuario = navigationState.usuario;\n    this.idRecetas = navigationState.recetaId;\n    this.recetasService.obtener(this.idRecetas).subscribe(receta => {\n      this.receta = receta;\n      this.ingredientes = this.receta.ingredientesResponse;\n      this.pasos = this.receta.pasosResponse.sort((a, b) => a.tipo - b.tipo);\n      console.log(this.pasos);\n    });\n  }\n  /**\r\n   * Método para añadir una valoración a la receta\r\n   *\r\n   * recibimos la valoracion, creamos un Objeto valoración con el id de la receta que se valora y la valoración capturada\r\n   *\r\n   * y la mandamos al servicio para su inserción el la base de datos\r\n   * @param event\r\n   */\n  valorarReceta(event) {\n    this.nuevaValoracion = event;\n    let valoracion = new Valoraciones(null, this.idRecetas, this.nuevaValoracion);\n    this.recetasService.anyadirValoracion(valoracion).subscribe(response => {\n      this.valoracionAnyadida = true;\n      this.mensajeValoracion = \"Gracias! Ya has valorado la receta\";\n    }, error => {\n      if (error.error instanceof ErrorEvent) {\n        this.valoracionAnyadida = false;\n      } else {\n        this.valoracionAnyadida = false;\n      }\n    });\n  }\n  /**\r\n   * Método para mandar el usuario a la página de inicio a través del routing\r\n   */\n  volverInicio() {\n    this.router.navigate([''], {\n      state: {\n        usuario: this.usuario\n      }\n    });\n  }\n  /**\r\n   * Método para añadir la receta a los favoritos de un Usuraio\r\n   *\r\n   * creamos el Objeto Favorito con el id de la receta, la descripcion del favorito y el id del Usuario que la guarda\r\n   *\r\n   * Mandamos la valoración al servicio para su inserción e informamos de si se ha realizado con éxito\r\n   */\n  guardarReceta() {\n    let favorito = new Favoritos(null, this.idRecetas, this.descripcionFavorito, this.usuario.idUsuarios);\n    this.recetasService.agregarFavorito(favorito).subscribe(response => {\n      this.favoritoAnyadido = true;\n      this.descripcionFavorito = \"Has guardado la receta\";\n    }, error => {\n      if (error.error instanceof ErrorEvent) {\n        this.favoritoAnyadido = false;\n      } else {\n        this.favoritoAnyadido = false;\n      }\n    });\n  }\n}\nMostrarUnaRecetaComponent.ɵfac = function MostrarUnaRecetaComponent_Factory(t) {\n  return new (t || MostrarUnaRecetaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.recetasService));\n};\nMostrarUnaRecetaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MostrarUnaRecetaComponent,\n  selectors: [[\"app-mostrar-una-receta\"]],\n  decls: 51,\n  vars: 14,\n  consts: [[1, \"text-center\", 2, \"margin-top\", \"30px\"], [1, \"nav-link\", 3, \"click\"], [\"src\", \"/assets/img/logo.png\", \"alt\", \"\", 1, \"w-25\"], [1, \"receta\", \"rounded\"], [1, \"receta-title\"], [1, \"receta-valoracion\"], [3, \"rate\", \"max\", \"readOnly\"], [\"ratingActive\", \"\"], [\"ratingInactive\", \"\"], [1, \"text-center\", \"my-4\", 2, \"margin-top\", \"50px\"], [1, \"rounded\", \"img-fluid\", 2, \"border\", \"2px solid #3c240d\", 3, \"src\"], [1, \"d-flex\", \"justify-content-around\"], [\"class\", \"guardar-receta\", 4, \"ngIf\"], [1, \"listas\", 2, \"margin-top\", \"80px\"], [1, \"receta-list\"], [1, \"receta-list-title\"], [4, \"ngIf\"], [\"class\", \"receta-ingrediente\", 4, \"ngFor\", \"ngForOf\"], [1, \"receta-list\", \"info\"], [1, \"receta-preparacion\"], [1, \"receta-pasos\"], [1, \"receta-list-title\", \"preparacion\"], [1, \"row\"], [1, \"col\"], [\"class\", \"receta-paso\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"text-center\", \"mt-5\"], [1, \"fw-bold\"], [3, \"rate\", \"max\", \"rateChange\", 4, \"ngIf\"], [1, \"bi\", \"bi-star-fill\", 2, \"margin\", \"2px\", \"color\", \"#3c240d\"], [1, \"bi\", \"bi-star-fill\", 2, \"margin\", \"2px\", \"color\", \"#8A9A8A\"], [1, \"guardar-receta\"], [\"for\", \"InputTitulo\", 1, \"form-label\", \"fw-bold\", \"text-center\", \"mt-3\"], [\"type\", \"text\", \"name\", \"descripcion\", \"id\", \"InputDescripcion\", 1, \"form-control\", \"fs-5\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn-guardar\", 3, \"click\"], [1, \"bi\", \"bi-bookmark-heart\"], [1, \"receta-ingrediente\"], [1, \"receta-paso\"], [1, \"receta-paso-title\"], [1, \"rounded\", \"img-fluid\", \"mb-3\", 2, \"border\", \"2px solid #3c240d\", 3, \"src\"], [3, \"rate\", \"max\", \"rateChange\"]],\n  template: function MostrarUnaRecetaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n      i0.ɵɵlistener(\"click\", function MostrarUnaRecetaComponent_Template_a_click_1_listener() {\n        return ctx.volverInicio();\n      });\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"h1\", 4);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"bar-rating\", 6);\n      i0.ɵɵtemplate(8, MostrarUnaRecetaComponent_ng_template_8_Template, 1, 0, \"ng-template\", 7);\n      i0.ɵɵtemplate(9, MostrarUnaRecetaComponent_ng_template_9_Template, 1, 0, \"ng-template\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 9);\n      i0.ɵɵelement(11, \"img\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 11);\n      i0.ɵɵtemplate(13, MostrarUnaRecetaComponent_div_13_Template, 7, 1, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 13)(15, \"ul\", 14)(16, \"h2\", 15);\n      i0.ɵɵtext(17, \"Ingredientes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, MostrarUnaRecetaComponent_span_18_Template, 2, 0, \"span\", 16);\n      i0.ɵɵtemplate(19, MostrarUnaRecetaComponent_li_19_Template, 2, 2, \"li\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ul\", 18)(21, \"h2\", 15);\n      i0.ɵɵtext(22, \"Informaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"li\")(24, \"b\");\n      i0.ɵɵtext(25, \"Tiempo de preparaci\\u00F3n:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"li\")(28, \"b\");\n      i0.ɵɵtext(29, \"Categoria:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"li\")(32, \"b\");\n      i0.ɵɵtext(33, \"Comensales:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(35, \"br\")(36, \"br\");\n      i0.ɵɵelementStart(37, \"div\", 19)(38, \"div\", 20)(39, \"h2\", 21);\n      i0.ɵɵtext(40, \"Preparaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 22)(42, \"div\", 23);\n      i0.ɵɵtemplate(43, MostrarUnaRecetaComponent_div_43_Template, 6, 3, \"div\", 24);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(44, \"div\")(45, \"div\", 25)(46, \"h5\", 26);\n      i0.ɵɵtext(47, \"\\u00BFQuieres valorar la receta?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"div\", 5);\n      i0.ɵɵtemplate(49, MostrarUnaRecetaComponent_bar_rating_49_Template, 3, 2, \"bar-rating\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(50, MostrarUnaRecetaComponent_div_50_Template, 2, 1, \"div\", 16);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.receta == null ? null : ctx.receta.titulo);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"rate\", ctx.receta.valoracionMedia)(\"max\", 5)(\"readOnly\", true);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.receta.foto, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.usuario);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.ingredientes.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.ingredientes);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.receta.tiempo, \" minutos.\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.receta.categoria, \".\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.receta.comensales, \"\");\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pasos);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !ctx.valoracionAnyadida);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.valoracionAnyadida);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.BarRating, i5.ActiveRating, i5.InactiveRating],\n  styles: [\".receta[_ngcontent-%COMP%] {\\n    background-color: #FFF;\\n    margin: 0 auto;\\n    width: 75%;\\n    border: 2px solid rgba(0, 0, 0, 0.2);\\n    padding: 50px;\\n    max-width: 1200px;\\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\\n}\\n\\n\\n\\n\\n.receta-title[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n    text-align: center;\\n}\\n\\n\\n\\n\\n.receta-valoracion[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    margin-top: 30px;\\n}\\n\\n\\n\\n\\n.receta-valoracion[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    font-size: 25px;\\n}\\n\\n\\n\\n\\n.receta-img-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    margin: 50px 0 25px;\\n    display: flex;\\n    justify-content: center;\\n}\\n\\n\\n\\n\\n.receta-img-container[_ngcontent-%COMP%]   .receta-img[_ngcontent-%COMP%] {\\n    max-width: 75%;\\n    max-height: 400px;\\n}\\n\\n.btn-guardar[_ngcontent-%COMP%] {\\n    background-color: #8b9a8a;\\n    color: #fff;\\n    border-radius: 5px; \\n    border: #8b9a8a;\\n    max-width: 100%;\\n    max-height: 100%;\\n    margin-top: 20px;\\n}\\n\\n\\n\\n\\n.receta-img2-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    margin: 25px 0;\\n    display: flex;\\n    justify-content: center;\\n}\\n\\n\\n\\n\\n.receta-img2-container[_ngcontent-%COMP%]   .receta-img[_ngcontent-%COMP%] {\\n    max-width: 30%;\\n    max-height: 200px;\\n}\\n\\n\\n\\n\\n.listas[_ngcontent-%COMP%] {\\n    width: 100%;\\n    display: flex;\\n    justify-content: space-around;\\n}\\n\\n\\n\\n\\n.receta-list[_ngcontent-%COMP%] {\\n    padding-left: 0;\\n    max-width: 50%;\\n}\\n\\n\\n\\n\\n.receta-list.info[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n}\\n\\n\\n\\n\\n.receta-list-title[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n    margin-bottom: 25px;\\n    color: #3c240d;\\n    text-transform: uppercase;\\n}\\n\\n\\n\\n\\n.receta-list-title.preparacion[_ngcontent-%COMP%] {\\n    text-transform: none;\\n}\\n\\n\\n\\n\\n.receta-ingrediente[_ngcontent-%COMP%] {\\n    color: #3c240d;\\n}\\n\\n\\n\\n\\n.receta-preparacion[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\n\\n\\n\\n.receta-pasos[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    padding-left: 0;\\n}\\n\\n\\n\\n\\n.receta-paso[_ngcontent-%COMP%] {\\n    margin-bottom: 25px;\\n    color: #3c240d;\\n}\\n\\n\\n\\n\\n.receta-paso-title[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n    color: #3c240d;\\n}\\n\\nh5[_ngcontent-%COMP%] {\\n    color: #8A9A8A;\\n}\\n\\n\\n\\n\\n@media screen and (max-width: 1280px) {\\n    .receta[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n.foto-receta[_ngcontent-%COMP%]{\\n    border: 5px solid #3c240d;\\n}\\n\\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbW9zdHJhci11bmEtcmVjZXRhL21vc3RyYXItdW5hLXJlY2V0YS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQjs7QUFFckI7SUFDSSxzQkFBc0I7SUFDdEIsY0FBYztJQUNkLFVBQVU7SUFDVixvQ0FBb0M7SUFDcEMsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixnREFBZ0Q7QUFDcEQ7OztBQUdBLHdCQUF3Qjs7QUFFeEI7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOzs7QUFHQSx3QkFBd0I7O0FBRXhCO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEI7OztBQUdBLHlCQUF5Qjs7QUFFekI7SUFDSSxlQUFlO0FBQ25COzs7QUFHQSxvQ0FBb0M7O0FBRXBDO0lBQ0ksV0FBVztJQUNYLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsdUJBQXVCO0FBQzNCOzs7QUFHQSxtQkFBbUI7O0FBRW5CO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7O0FBR0EsK0JBQStCOztBQUUvQjtJQUNJLFdBQVc7SUFDWCxjQUFjO0lBQ2QsYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7O0FBR0Esa0JBQWtCOztBQUVsQjtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7QUFDckI7OztBQUdBLG9CQUFvQjs7QUFFcEI7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLDZCQUE2QjtBQUNqQzs7O0FBR0EsZUFBZTs7QUFFZjtJQUNJLGVBQWU7SUFDZixjQUFjO0FBQ2xCOzs7QUFHQSxnQkFBZ0I7O0FBRWhCO0lBQ0kscUJBQXFCO0FBQ3pCOzs7QUFHQSx5QkFBeUI7O0FBRXpCO0lBQ0ksaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QseUJBQXlCO0FBQzdCOzs7QUFHQSxzQ0FBc0M7O0FBRXRDO0lBQ0ksb0JBQW9CO0FBQ3hCOzs7QUFHQSxvQkFBb0I7O0FBRXBCO0lBQ0ksY0FBYztBQUNsQjs7O0FBR0EseUJBQXlCOztBQUV6QjtJQUNJLGtCQUFrQjtBQUN0Qjs7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLHFCQUFxQjtJQUNyQixlQUFlO0FBQ25COzs7QUFHQSxjQUFjOztBQUVkO0lBQ0ksbUJBQW1CO0lBQ25CLGNBQWM7QUFDbEI7OztBQUdBLDZCQUE2Qjs7QUFFN0I7SUFDSSxpQkFBaUI7SUFDakIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7OztBQUdBLDBHQUEwRzs7QUFFMUc7SUFDSTtRQUNJLFVBQVU7SUFDZDs7QUFFSjtJQUNJLHlCQUF5QjtBQUM3Qjs7O0FBR0EiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBCbG9xdWUgZGEgcmVjZXRhICovXG5cbi5yZWNldGEge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgd2lkdGg6IDc1JTtcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgcGFkZGluZzogNTBweDtcbiAgICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgICBmb250LWZhbWlseTogVmVyZGFuYSwgR2VuZXZhLCBUYWhvbWEsIHNhbnMtc2VyaWY7XG59XG5cblxuLyogdMODwq10dWxvIGRlIGxhIHJlY2V0YSAqL1xuXG4ucmVjZXRhLXRpdGxlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cblxuLyogYmxvcXVlIGRlIGV2YWx1YWNpw4PCs24qL1xuXG4ucmVjZXRhLXZhbG9yYWNpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbn1cblxuXG4vKiBDYWRhIGljb25vIChlc3RyZWxsYSkqL1xuXG4ucmVjZXRhLXZhbG9yYWNpb24gaSB7XG4gICAgZm9udC1zaXplOiAyNXB4O1xufVxuXG5cbi8qIENvbnRlbmVkb3IgZGUgbGEgcHJpbWVyYSBpbWFnZW4gKi9cblxuLnJlY2V0YS1pbWctY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDUwcHggMCAyNXB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cblxuLyogcHJpbWVyYSBpbWFnZW4gKi9cblxuLnJlY2V0YS1pbWctY29udGFpbmVyIC5yZWNldGEtaW1nIHtcbiAgICBtYXgtd2lkdGg6IDc1JTtcbiAgICBtYXgtaGVpZ2h0OiA0MDBweDtcbn1cblxuLmJ0bi1ndWFyZGFyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGI5YThhO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgXG4gICAgYm9yZGVyOiAjOGI5YThhO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cblxuLypTZWd1bmRvIGNvbnRlbmVkb3IgZGUgaW1hZ2VuKi9cblxuLnJlY2V0YS1pbWcyLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiAyNXB4IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuXG4vKiBzZWd1bmRhIGltYWdlbiovXG5cbi5yZWNldGEtaW1nMi1jb250YWluZXIgLnJlY2V0YS1pbWcge1xuICAgIG1heC13aWR0aDogMzAlO1xuICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xufVxuXG5cbi8qIGJsb3F1ZSBkZSBsaXN0YSAqL1xuXG4ubGlzdGFzIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xufVxuXG5cbi8qIGNhZGEgbGlzdGEgKi9cblxuLnJlY2V0YS1saXN0IHtcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgbWF4LXdpZHRoOiA1MCU7XG59XG5cblxuLyogSW5mb3JtYWNpw4PCs24gKi9cblxuLnJlY2V0YS1saXN0LmluZm8ge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxuXG4vKiBUw4PCrXR1bG8gZGUgbGFzIGxpc3RhcyAqL1xuXG4ucmVjZXRhLWxpc3QtdGl0bGUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi1ib3R0b206IDI1cHg7XG4gICAgY29sb3I6ICMzYzI0MGQ7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cblxuXG4vKiBUw4PCrXR1bG8gZGUgbGEgbGlzdGEgZGUgcHJlcGFyYWNpw4PCs24gKi9cblxuLnJlY2V0YS1saXN0LXRpdGxlLnByZXBhcmFjaW9uIHtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbn1cblxuXG4vKiBjYWRhIGluZ3JlZGllbnRlKi9cblxuLnJlY2V0YS1pbmdyZWRpZW50ZSB7XG4gICAgY29sb3I6ICMzYzI0MGQ7XG59XG5cblxuLypibG9xdWUgZGUgcHJlcGFyYWNpw4PCs24gKi9cblxuLnJlY2V0YS1wcmVwYXJhY2lvbiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5cbi8qIGxpc3RhIGRlIHBhc29zICovXG5cbi5yZWNldGEtcGFzb3Mge1xuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XG59XG5cblxuLyogQ2FkYSBwYXNvICovXG5cbi5yZWNldGEtcGFzbyB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgICBjb2xvcjogIzNjMjQwZDtcbn1cblxuXG4vKiBUw4PCrXR1bG8gZGVsIHBhc28gKFBhc28gMSkgKi9cblxuLnJlY2V0YS1wYXNvLXRpdGxlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzNjMjQwZDtcbn1cblxuaDUge1xuICAgIGNvbG9yOiAjOEE5QThBO1xufVxuXG5cbi8qIENvbnN1bHRhIGRlIG1lZGlvcyBwYXJhIGF1bWVudGFyIGVsIHRhbWHDg8KxbyBkZWwgY29udGVuZWRvciBjdWFuZG8gc2UgdHJhdGEgZGUgdW5hIHBhbnRhbGxhIG3Dg8KhcyBwZXF1ZcODwrFhICovXG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyODBweCkge1xuICAgIC5yZWNldGEge1xuICAgICAgICB3aWR0aDogOTAlO1xuICAgIH1cblxuLmZvdG8tcmVjZXRhe1xuICAgIGJvcmRlcjogNXB4IHNvbGlkICMzYzI0MGQ7XG59XG5cblxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Favoritos","Valoraciones","i0","MostrarUnaRecetaComponent","constructor","router","recetasService","usuario","ngOnInit","navigationState","history","state","idRecetas","recetaId","obtener","subscribe","receta","ingredientes","ingredientesResponse","pasos","pasosResponse","sort","a","b","tipo","console","log","valorarReceta","event","nuevaValoracion","valoracion","anyadirValoracion","response","valoracionAnyadida","mensajeValoracion","error","ErrorEvent","volverInicio","navigate","guardarReceta","favorito","descripcionFavorito","idUsuarios","agregarFavorito","favoritoAnyadido","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\mostrar-una-receta\\mostrar-una-receta.component.ts","C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\mostrar-una-receta\\mostrar-una-receta.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Favoritos } from 'src/app/Favoritos.model';\nimport { Ingredientes } from 'src/app/Ingredientes.model';\nimport { Pasos } from 'src/app/Pasos.model';\nimport { Receta } from 'src/app/Receta.model';\nimport { Usuarios } from 'src/app/Usuarios.model';\nimport { Valoraciones } from 'src/app/Valoraciones.model';\nimport { recetasService } from 'src/app/pages/mostrar-recetas/recetasService.service';\n/**\n * Componente para la página de mostrar una receta\n *\n * Se mostrará la receta que haya seleccionado el usuario\n */\n@Component({\n  selector: 'app-mostrar-una-receta',\n  templateUrl: './mostrar-una-receta.component.html',\n  styleUrls: ['./mostrar-una-receta.component.css'],\n})\nexport class MostrarUnaRecetaComponent implements OnInit {\n  /**\n   * Variable para alamacenar la receta que recuperamos de la base de datos\n   */\n  receta: Receta;\n\n  /**\n   * Variable para almacenar el id de la receta seleccionada en las demás páginas\n   */\n  idRecetas: number;\n\n  /**\n   * Array para almacenar los ingredientes de la receta y poder mostrarlos\n   */\n  ingredientes: Ingredientes[];\n\n  /**\n   * Array para almacenar los pasos de la receta y poder mostrarlos\n   */\n  pasos: Pasos[];\n\n  /**\n   * Variable para almacenar el dato de la valoración que haga el usuario de la receta\n   */\n  nuevaValoracion: number;\n\n  /**\n   * Variable para saber si se ha añadido el favorito\n   */\n  favoritoAnyadido: boolean;\n\n   /**\n   * Variable para saber si se ha añadido la valoración\n   */\n  valoracionAnyadida: boolean;\n\n  /**\n   * Variable para almacenar al usuario si está registrado\n   */\n  usuario: Usuarios;\n\n  /**\n   * Variable para lamacenar la descripcion para el favorito\n   */\n  descripcionFavorito: string;\n\n  /**\n   * Variable para mostar si se ha añadido la valoracion\n   */\n  mensajeValoracion: string;\n\n  /**\n   * Injectamos los servicios necesarios para el funcionamiento de la página\n   *\n   * @param router Para el envio del Usuario a otras páginas\n   * @param recetasService Servicio para conectar con el backEnd\n   */\n  constructor(private router: Router, private recetasService: recetasService) {\n    this.usuario = null;\n  }\n\n  /**\n   * Método que se carga cuando inicia la página\n   *\n   * Recogemos el id de la receta que se quiere mostrar mediante el route\n   *\n   * Llamamos al servicio de Recetas para la petición al back y almacenamos en nuestra variable receta la receta obtenida del servicio\n   */\n  ngOnInit(): void {\n    const navigationState = history.state;\n    this.usuario = navigationState.usuario;\n    this.idRecetas = navigationState.recetaId;\n\n    this.recetasService.obtener(this.idRecetas).subscribe((receta) => {\n      this.receta = receta;\n      this.ingredientes = this.receta.ingredientesResponse;\n      this.pasos = this.receta.pasosResponse.sort((a, b) => a.tipo - b.tipo);\n      console.log(this.pasos);\n    });\n  }\n\n  /**\n   * Método para añadir una valoración a la receta\n   * \n   * recibimos la valoracion, creamos un Objeto valoración con el id de la receta que se valora y la valoración capturada \n   * \n   * y la mandamos al servicio para su inserción el la base de datos\n   * @param event \n   */\n  valorarReceta(event) {\n    this.nuevaValoracion = event;\n    let valoracion = new Valoraciones(\n      null,\n      this.idRecetas,\n      this.nuevaValoracion,\n    );\n\n    this.recetasService.anyadirValoracion(valoracion).subscribe(\n      (response) => {\n        this.valoracionAnyadida = true;\n        this.mensajeValoracion = \"Gracias! Ya has valorado la receta\"\n      },   \n      (error: HttpErrorResponse) => {\n        if (error.error instanceof ErrorEvent) {\n          this.valoracionAnyadida = false;\n        } else {\n          this.valoracionAnyadida = false;\n        }\n      }\n    );\n  }\n\n  /**\n   * Método para mandar el usuario a la página de inicio a través del routing\n   */\n  volverInicio() {\n    this.router.navigate([''], { state: { usuario: this.usuario } });\n  }\n\n  /**\n   * Método para añadir la receta a los favoritos de un Usuraio\n   * \n   * creamos el Objeto Favorito con el id de la receta, la descripcion del favorito y el id del Usuario que la guarda\n   * \n   * Mandamos la valoración al servicio para su inserción e informamos de si se ha realizado con éxito\n   */\n  guardarReceta() {\n    let favorito = new Favoritos(\n      null,\n      this.idRecetas,\n      this.descripcionFavorito,\n      this.usuario.idUsuarios\n    );\n\n\n    this.recetasService.agregarFavorito(favorito).subscribe(\n      (response) => {\n        this.favoritoAnyadido = true;\n        this.descripcionFavorito = \"Has guardado la receta\";\n      },\n      (error: HttpErrorResponse) => {\n        if (error.error instanceof ErrorEvent) {\n          this.favoritoAnyadido = false;\n        } else {\n          this.favoritoAnyadido = false;\n        }\n      }\n    );\n  }\n}\n","<!-- Seccion logo -->\n<div class=\"text-center\" style=\"margin-top: 30px\">\n  <a class=\"nav-link\"(click)=\"volverInicio()\"><img src=\"/assets/img/logo.png\" class=\"w-25\" alt=\"\" /></a>\n</div>\n<div class=\"receta rounded\">\n  <!-- Para mostrar el nombre de la receta -->\n  <h1 class=\"receta-title\">{{ receta?.titulo }}</h1>\n\n  <!--Para mostrar la valoración con estrellas-->\n\n  <div class=\"receta-valoracion\">\n    <bar-rating [rate]=\"receta.valoracionMedia\" [max]=\"5\" [readOnly]=\"true\">\n      <ng-template ratingActive>\n        <i class=\"bi bi-star-fill\" style=\"margin: 2px; color: #3c240d\"></i>\n      </ng-template>\n      <ng-template ratingInactive>\n        <i class=\"bi bi-star-fill\" style=\"margin: 2px; color: #8A9A8A\"></i>\n      </ng-template>\n    </bar-rating>\n  </div>\n\n  <!-- Para mostrar la foto -->\n\n  <div class=\"text-center my-4\" style=\"margin-top: 50px;\">\n    <img src=\"{{ receta.foto }}\" class=\"rounded img-fluid\" style=\"border: 2px solid #3c240d;\" />\n  </div>\n\n  <!-- Botón guardar -->\n  <div class=\"d-flex justify-content-around\">\n    <div class=\"guardar-receta\" *ngIf = \"usuario\">\n      <label class=\"form-label fw-bold text-center mt-3\" for=\"InputTitulo\">Añade una nota para la receta:</label>\n      <input class=\"form-control fs-5\" type=\"text\" name=\"descripcion\" id=\"InputDescripcion\" [(ngModel)] = \"descripcionFavorito\">\n      <button class=\"btn-guardar\" (click)=\"guardarReceta()\"><i class=\"bi bi-bookmark-heart\"></i> Guardar receta</button>\n    </div>\n  </div>\n  \n\n  <div class=\"listas\" style=\"margin-top: 80px;\">\n    <ul class=\"receta-list\">\n      <h2 class=\"receta-list-title\">Ingredientes</h2>\n      <!-- Para mostrar los ingredientes -->\n      <span *ngIf=\"!ingredientes.length\">¡Ups! Todavía tenemos que buscar los ingredientes.</span>\n      <li *ngFor=\"let ingrediente of ingredientes\" class=\"receta-ingrediente\">\n        {{ ingrediente.nombre }}:\n        {{ ingrediente.cantidad }}\n      </li>\n    </ul>\n\n    <!-- Para mostrar las informacion -->\n    <ul class=\"receta-list info\">\n      <h2 class=\"receta-list-title\">Información</h2>\n      <li><b>Tiempo de preparación:</b> {{ receta.tiempo }} minutos.</li>\n      <li><b>Categoria:</b> {{ receta.categoria }}.</li>\n      <li><b>Comensales:</b> {{ receta.comensales }}</li>\n    </ul>\n  </div>\n  <br>\n  <br>\n  <!-- Para mostrar la preparacion -->\n  <div class=\"receta-preparacion\">\n    <div class=\"receta-pasos\">\n      <h2 class=\"receta-list-title preparacion\">Preparación</h2>\n      <div class=\"row\">\n        <div class=\"col\">\n          <div *ngFor=\"let paso of pasos; let i = index\" class=\"receta-paso\">\n            <h4 class=\"receta-paso-title\">Paso {{ i + 1 }}:</h4>\n            <p>{{ paso.descripcion }}</p>\n            <img src=\"{{ paso.foto }}\" class=\"rounded img-fluid mb-3\" style=\"border: 2px solid #3c240d;\" />\n            <!-- <div *ngFor=\"let paso of pasos;\" >\n              <img  src=\"{{ paso.foto }}\" class=\"rounded img-fluid\" style =\"border: 2px solid #3c240d;\"/>\n          </div> -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!--Valorar la receta-->\n  <div>\n    <div class=\"row text-center mt-5\">\n      <h5 class=\"fw-bold\">¿Quieres valorar la receta?</h5>\n    </div>\n    <div class=\"d-grid col justify-content-center\" class=\"receta-valoracion\">\n      <bar-rating [rate]=\"nuevaValoracion\" [max]=\"5\" (rateChange)=\"valorarReceta($event)\" *ngIf=\"!valoracionAnyadida\">\n        <ng-template ratingActive>\n          <i class=\"bi bi-star-fill\" style=\"margin: 2px; color: #3c240d\"></i>\n        </ng-template>\n        <ng-template ratingInactive>\n          <i class=\"bi bi-star-fill\" style=\"margin: 2px; color: #8A9A8A\"></i>\n        </ng-template>\n      </bar-rating>\n    </div>\n  </div>\n  <div *ngIf=\"valoracionAnyadida\">{{this.mensajeValoracion}}</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}