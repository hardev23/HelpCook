{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../mostrar-recetas/recetasService.service\";\nimport * as i2 from \"../registro/registro-service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction PerfilComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"img\", 29);\n    i0.ɵɵlistener(\"click\", function PerfilComponent_div_38_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const favorito_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.mandarUsuarioReceta(favorito_r6.idRecetas));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const favorito_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", favorito_r6.foto, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", favorito_r6.titulo);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/mostraUnaReceta/\", favorito_r6.idRecetas, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", favorito_r6.titulo, \" \");\n  }\n}\nfunction PerfilComponent_p_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No se han encontrado recetas guardadas. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PerfilComponent_p_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function PerfilComponent_p_40_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.mostrarMasRecetas());\n    });\n    i0.ɵɵtext(2, \" Mostrar m\\u00E1s \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PerfilComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"img\", 32);\n    i0.ɵɵlistener(\"click\", function PerfilComponent_div_46_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const receta_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.mandarUsuarioReceta(receta_r11.idRecetas));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const receta_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", receta_r11.foto, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", receta_r11.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", receta_r11.titulo, \" \");\n  }\n}\nfunction PerfilComponent_p_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No se han encontrado recetas guardadas. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PerfilComponent_p_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function PerfilComponent_p_48_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.mostrarMasRecetas());\n    });\n    i0.ɵɵtext(2, \" Mostrar m\\u00E1s \");\n    i0.ɵɵelementEnd()();\n  }\n}\n/**\r\n * Componente para la página el perfil del Usuario\r\n *\r\n * Se mostrará los datos del Usuario que acaba de acceder\r\n */\nexport class PerfilComponent {\n  /**\r\n   *  Injectamos los servicios necesarios para el funcionamiento de la página\r\n   *\r\n   * @param recetasService Servicio para conectar con el backEnd\r\n   * @param registroService Servicio para conectar con el backEnd\r\n   * @param router Para el envio del Usuario a otras páginas\r\n   */\n  constructor(recetasService, registroService, router) {\n    this.recetasService = recetasService;\n    this.registroService = registroService;\n    this.router = router;\n    /**\r\n     * Variable para controlar el número de recetas que se muestran de los arrays de recetas\r\n     */\n    this.numRecetasMostradas = 4;\n  }\n  /**\r\n   * Método que se carga cuando se inicializa la página\r\n   *\r\n   * recibimos el usuario del loggin y recuperamos sus recetas guardadas y recetas subidas\r\n   */\n  ngOnInit() {\n    this.usuario = history.state.usuario;\n    this.recetasService.obtenerTodos(null, null, this.usuario.idUsuarios, null).subscribe(recetas => {\n      this.recetas = recetas;\n    });\n    let favoritosIds = this.usuario.favoritos.map(fav => fav.idRecetas);\n    this.recetasService.obtenerFavoritos(favoritosIds).subscribe(recetasFavoritos => {\n      this.recetasFavoritos = recetasFavoritos;\n    });\n  }\n  /**\r\n   * Método para el botón mostrar más donde mostramos otras 4 recetas mñas cada vez que se pulsa el botón\r\n   */\n  mostrarMasRecetas() {\n    this.numRecetasMostradas += 4;\n  }\n  /**\r\n   * Método para el routing a la página de inicio mandando al Usuario\r\n   */\n  volverInicio() {\n    this.router.navigate([''], {\n      state: {\n        usuario: this.usuario\n      }\n    });\n  }\n  /**\r\n     * Método para el routing a la página de editarPerfil mandando al Usuario\r\n     */\n  mandarUsuario() {\n    this.router.navigate(['/editarPerfil'], {\n      state: {\n        usuario: this.usuario\n      }\n    });\n  }\n  /**\r\n   * Método para el routing a la página de mostrar una receta mandando al Usuario\r\n   */\n  mandarUsuarioReceta(recetaId) {\n    this.router.navigate(['/mostraUnaReceta'], {\n      state: {\n        usuario: this.usuario,\n        recetaId: recetaId\n      }\n    });\n  }\n  /**\r\n   * Método para el routing a la página añadir una receta\r\n   */\n  UsuarioAnyadeReceta() {\n    this.router.navigate(['/subirReceta'], {\n      state: {\n        usuario: this.usuario\n      }\n    });\n  }\n}\nPerfilComponent.ɵfac = function PerfilComponent_Factory(t) {\n  return new (t || PerfilComponent)(i0.ɵɵdirectiveInject(i1.recetasService), i0.ɵɵdirectiveInject(i2.RegistroService), i0.ɵɵdirectiveInject(i3.Router));\n};\nPerfilComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PerfilComponent,\n  selectors: [[\"app-perfil\"]],\n  decls: 49,\n  vars: 12,\n  consts: [[1, \"text-center\", 2, \"margin-top\", \"30px\"], [1, \"nav-link\", 3, \"click\"], [\"src\", \"/assets/img/logo.png\", \"alt\", \"\", 1, \"w-25\"], [1, \"h-100\", \"gradient-custom-2\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\", \"col-lg-9\", \"col-xl-7\"], [1, \"card\", 2, \"background-color\", \"#edebe6\"], [1, \"rounded-top\", \"d-flex\", \"flex-row\", 2, \"background-color\", \"#d4d0c4\", \"height\", \"200px\"], [1, \"ms-4\", \"mt-5\", \"d-flex\", \"flex-column\", 2, \"width\", \"150px\"], [\"alt\", \"Generic placeholder image\", 1, \"img-fluid\", \"img-thumbnail\", \"mt-4\", \"mb-2;\", 2, \"width\", \"150px\", \"height\", \"150px\", \"z-index\", \"1\", 3, \"src\"], [\"type\", \"button\", 1, \"boton-subir-receta\", 3, \"click\"], [\"type\", \"button\", 1, \"boton-edit-perfil\", 3, \"click\"], [1, \"ms-3\", 2, \"margin-top\", \"130px\"], [1, \"fw-semibold\"], [1, \"fw-normal\"], [1, \"p-4\", 2, \"background-color\", \"#8b9a8a\", \"color\", \"#edebe6\"], [1, \"d-flex\", \"justify-content-end\", \"text-center\", \"py-1\"], [1, \"mb-1\", \"h5\"], [1, \"normal\", \"mb-0\"], [1, \"px-3\"], [1, \"container\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\", \"mt-5\", 2, \"background-color\", \"#d4d0c4\"], [1, \"lead\", \"fw-bold\", \"mb-0\"], [1, \"recetas-container\"], [\"class\", \"receta\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\", \"mt-5\", 2, \"margin-top\", \"30px\", \"background-color\", \"#d4d0c4\"], [1, \"receta\"], [1, \"w-100\", \"rounded-3\", 3, \"src\", \"alt\", \"routerLink\", \"click\"], [1, \"w-100\", \"rounded-3;\", \"titulos\"], [1, \"btn\", \"btn-link\", \"mostrar-mas\", 3, \"click\"], [1, \"w-100\", \"rounded-1\", 3, \"src\", \"alt\", \"click\"]],\n  template: function PerfilComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n      i0.ɵɵlistener(\"click\", function PerfilComponent_Template_a_click_1_listener() {\n        return ctx.volverInicio();\n      });\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"body\")(4, \"section\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9);\n      i0.ɵɵelement(11, \"img\", 10);\n      i0.ɵɵelementStart(12, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function PerfilComponent_Template_button_click_12_listener() {\n        return ctx.UsuarioAnyadeReceta();\n      });\n      i0.ɵɵtext(13, \" Subir receta \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function PerfilComponent_Template_button_click_14_listener() {\n        return ctx.mandarUsuario();\n      });\n      i0.ɵɵtext(15, \" Editar perfil \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"h3\", 14);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"p\", 15);\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"div\", 17)(23, \"div\")(24, \"p\", 18);\n      i0.ɵɵtext(25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"p\", 19);\n      i0.ɵɵtext(27, \"Recetas subidas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 20)(29, \"p\", 18);\n      i0.ɵɵtext(30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"p\", 19);\n      i0.ɵɵtext(32, \"Recetas guardadas\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(33, \"div\", 21)(34, \"div\", 22)(35, \"p\", 23);\n      i0.ɵɵtext(36, \"\\u00DAltimas recetas guardadas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"div\", 24);\n      i0.ɵɵtemplate(38, PerfilComponent_div_38_Template, 4, 4, \"div\", 25);\n      i0.ɵɵtemplate(39, PerfilComponent_p_39_Template, 2, 0, \"p\", 26);\n      i0.ɵɵtemplate(40, PerfilComponent_p_40_Template, 3, 0, \"p\", 26);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 21)(42, \"div\", 27)(43, \"p\", 23);\n      i0.ɵɵtext(44, \"\\u00DAltimas recetas a\\u00F1adidas por t\\u00ED\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"div\", 24);\n      i0.ɵɵtemplate(46, PerfilComponent_div_46_Template, 4, 3, \"div\", 25);\n      i0.ɵɵtemplate(47, PerfilComponent_p_47_Template, 2, 0, \"p\", 26);\n      i0.ɵɵtemplate(48, PerfilComponent_p_48_Template, 3, 0, \"p\", 26);\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.usuario.foto, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate2(\"\", ctx.usuario.nombre, \" \", ctx.usuario.apellido, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"@\", ctx.usuario.nick, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.recetas.length);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.usuario.favoritos.length);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.recetasFavoritos.slice(0, ctx.numRecetasMostradas));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.recetasFavoritos.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.recetasFavoritos.length > ctx.numRecetasMostradas);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.recetas.slice(0, ctx.numRecetasMostradas));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.recetas.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.recetas.length > ctx.numRecetasMostradas);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    background-color: #f5f6ed;\\n}\\n\\n.recetas-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: space-between;\\n    align-content: flex-start;\\n    height: -moz-fit-content;\\n    height: fit-content;\\n    color: #3F2811;\\n    ;\\n    \\n    \\n  }\\n  \\n  .receta[_ngcontent-%COMP%] {\\n    width: calc(50% - 20px);\\n    height: 350px;\\n    \\n  }\\n  \\n  .receta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 200px;\\n    object-fit: cover;\\n    margin-bottom: 5px;\\n    border-radius: 10px;\\n    border: 1px solid #3c240d;\\n  }\\n\\n  .boton-edit-perfil[_ngcontent-%COMP%]{\\n    background-color: #edebe6;\\n    color: #3c240d;\\n    border-radius: 10px; \\n    border:2px solid #3c240d;\\n    width: 160px;\\n    margin-top:5px;\\n    z-index: 1;\\n  }\\n\\n  .boton-subir-receta[_ngcontent-%COMP%]{\\n    background-color: #d4d0c4;\\n    color: #3c240d;\\n    border-radius: 10px; \\n    border:2px solid #3c240d;\\n    width: 160px;\\n    margin-top:5px;\\n    z-index: 1;\\n  }\\n\\n  .p[_ngcontent-%COMP%]{\\n    color: #3c240d;\\n  }\\n\\n  .titulos[_ngcontent-%COMP%]{\\n    border-radius: 10px;\\n    border: 1px solid #3c240d;\\n    background-color: #8b9a8a;\\n    color: #edebe6;\\n    text-align: center;\\n    \\n  }\\n\\n\\n .btn-link.mostrar-mas[_ngcontent-%COMP%] {\\n  color: #3c240d;\\n  background-color: transparent;\\n}\\n\\n.btn-link.mostrar-mas[_ngcontent-%COMP%]:hover {\\n  color: #8b9a8a;\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcGVyZmlsL3BlcmZpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksOEJBQThCO0lBQzlCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsOEJBQThCO0lBQzlCLHlCQUF5QjtJQUN6Qix3QkFBbUI7SUFBbkIsbUJBQW1CO0lBQ25CLGNBQWM7Ozs7RUFJaEI7O0VBRUE7SUFDRSx1QkFBdUI7SUFDdkIsYUFBYTs7RUFFZjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsd0JBQXdCO0lBQ3hCLFlBQVk7SUFDWixjQUFjO0lBQ2QsVUFBVTtFQUNaOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxtQkFBbUI7SUFDbkIsd0JBQXdCO0lBQ3hCLFlBQVk7SUFDWixjQUFjO0lBQ2QsVUFBVTtFQUNaOztFQUVBO0lBQ0UsY0FBYztFQUNoQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxrQkFBa0I7O0VBRXBCOzs7Q0FHRDtFQUNDLGNBQWM7RUFDZCw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsNkJBQTZCO0FBQy9CIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY2ZWQ7XG59XG5cbi5yZWNldGFzLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgaGVpZ2h0OiBmaXQtY29udGVudDtcbiAgICBjb2xvcjogIzNGMjgxMTtcbiAgICA7XG4gICAgXG4gICAgXG4gIH1cbiAgXG4gIC5yZWNldGEge1xuICAgIHdpZHRoOiBjYWxjKDUwJSAtIDIwcHgpO1xuICAgIGhlaWdodDogMzUwcHg7XG4gICAgXG4gIH1cbiAgXG4gIC5yZWNldGEgaW1nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMzYzI0MGQ7XG4gIH1cblxuICAuYm90b24tZWRpdC1wZXJmaWx7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VkZWJlNjtcbiAgICBjb2xvcjogIzNjMjQwZDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4OyBcbiAgICBib3JkZXI6MnB4IHNvbGlkICMzYzI0MGQ7XG4gICAgd2lkdGg6IDE2MHB4O1xuICAgIG1hcmdpbi10b3A6NXB4O1xuICAgIHotaW5kZXg6IDE7XG4gIH1cblxuICAuYm90b24tc3ViaXItcmVjZXRhe1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkNGQwYzQ7XG4gICAgY29sb3I6ICMzYzI0MGQ7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDsgXG4gICAgYm9yZGVyOjJweCBzb2xpZCAjM2MyNDBkO1xuICAgIHdpZHRoOiAxNjBweDtcbiAgICBtYXJnaW4tdG9wOjVweDtcbiAgICB6LWluZGV4OiAxO1xuICB9XG5cbiAgLnB7XG4gICAgY29sb3I6ICMzYzI0MGQ7XG4gIH1cblxuICAudGl0dWxvc3tcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMzYzI0MGQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzhiOWE4YTtcbiAgICBjb2xvcjogI2VkZWJlNjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgXG4gIH1cblxuXG4gLmJ0bi1saW5rLm1vc3RyYXItbWFzIHtcbiAgY29sb3I6ICMzYzI0MGQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uYnRuLWxpbmsubW9zdHJhci1tYXM6aG92ZXIge1xuICBjb2xvcjogIzhiOWE4YTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IA0DgBA,+BAA2F;IAGzFA;MAAA;MAAA;MAAA;MAAA,OAAWA,gEAAuC;IAAA,EAAC;IAFnDA,iBAGE;IACFA,+BAAsC;IACpCA,YACF;IAAAA,iBAAM;;;;IANDA,eAAyB;IAAzBA,mEAAyB;IAACA,mDAA2B;IAC1DA,uFAAsD;IAIpDA,eACF;IADEA,mDACF;;;;;IAEFA,yBAAyC;IACvCA,yDACF;IAAAA,iBAAI;;;;;;IACJA,yBAAyD;IACdA;MAAAA;MAAA;MAAA,OAASA,yCAAmB;IAAA,EAAC;IACpEA,kCACF;IAAAA,iBAAS;;;;;;IAYXA,+BAAiF;IAE/EA;MAAA;MAAA;MAAA;MAAA,OAAWA,gEAAqC;IAAA,EAAC;IADjDA,iBAEE;IACFA,+BAAsC;IACpCA,YACF;IAAAA,iBAAM;;;;IALDA,eAAuB;IAAvBA,kEAAuB;IAACA,kDAAyB;IAIpDA,eACF;IADEA,kDACF;;;;;IAEFA,yBAAgC;IAC9BA,yDACF;IAAAA,iBAAI;;;;;;IACJA,yBAAgD;IACLA;MAAAA;MAAA;MAAA,OAASA,0CAAmB;IAAA,EAAC;IACpEA,kCACF;IAAAA,iBAAS;;;AC5F3B;;;;;AAUA,OAAM,MAAOC,eAAe;EAuB5B;;;;;;;EAOEC,YAAoBC,cAA8B,EAAUC,eAAgC,EAClFC,MAAc;IADJ,mBAAc,GAAdF,cAAc;IAA0B,oBAAe,GAAfC,eAAe;IACjE,WAAM,GAANC,MAAM;IAdhB;;;IAGA,wBAAmB,GAAW,CAAC;EAe/B;EACA;;;;;EAKAC,QAAQ;IAEN,IAAI,CAACC,OAAO,GAAGC,OAAO,CAACC,KAAK,CAACF,OAAO;IAGpC,IAAI,CAACJ,cAAc,CAACO,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAACH,OAAO,CAACI,UAAU,EAAE,IAAI,CAAC,CAACC,SAAS,CAACC,OAAO,IAAG;MAC9F,IAAI,CAACA,OAAO,GAAGA,OAAO;IACxB,CAAC,CAAC;IAEF,IAAIC,YAAY,GAAY,IAAI,CAACP,OAAO,CAACQ,SAAS,CAACC,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACC,SAAS,CAAC;IAE5E,IAAI,CAACf,cAAc,CAACgB,gBAAgB,CAACL,YAAY,CAAC,CAACF,SAAS,CAACQ,gBAAgB,IAAE;MAE7E,IAAI,CAACA,gBAAgB,GAAGA,gBAAgB;IAE1C,CAAC,CAAC;EAEJ;EACA;;;EAGAC,iBAAiB;IACf,IAAI,CAACC,mBAAmB,IAAI,CAAC;EAE/B;EAEA;;;EAGAC,YAAY;IACV,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAC;MAACf,KAAK,EAAC;QAACF,OAAO,EAAC,IAAI,CAACA;MAAO;IAAC,CAAC,CAAC;EAC3D;EAEF;;;EAGEkB,aAAa;IACX,IAAI,CAACpB,MAAM,CAACmB,QAAQ,CAAC,CAAC,eAAe,CAAC,EAAC;MAACf,KAAK,EAAC;QAACF,OAAO,EAAC,IAAI,CAACA;MAAO;IAAC,CAAC,CAAC;EACxE;EAEA;;;EAGAmB,mBAAmB,CAACC,QAAgB;IAClC,IAAI,CAACtB,MAAM,CAACmB,QAAQ,CAAC,CAAC,kBAAkB,CAAC,EAAC;MAACf,KAAK,EAAC;QAACF,OAAO,EAAC,IAAI,CAACA,OAAO;QAACoB,QAAQ,EAACA;MAAQ;IAAE,CAAC,CAAC;EAC9F;EAEA;;;EAGAC,mBAAmB;IACjB,IAAI,CAACvB,MAAM,CAACmB,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAC;MAACf,KAAK,EAAC;QAACF,OAAO,EAAC,IAAI,CAACA;MAAO;IAAC,CAAC,CAAC;EACvE;;AA7FWN,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDhB5BjC,8BAAkD;MAC5BA;QAAA,OAASkC,kBAAc;MAAA,EAAC;MAAClC,yBAAsD;MAAAA,iBAAI;MAGzGA,4BAAM;MAeUA,2BACoD;MAEpDA,mCAAiF;MAAhCA;QAAA,OAASkC,yBAAqB;MAAA,EAAC;MAC9ElC,+BACF;MAAAA,iBAAS;MAETA,mCAA0E;MAA1BA;QAAA,OAASkC,mBAAe;MAAA,EAAC;MACvElC,gCACF;MAAAA,iBAAS;MAIXA,gCAA4C;MAClBA,aAAyC;MAAAA,iBAAK;MACtEA,8BAAqB;MAAAA,aAAmB;MAAAA,iBAAI;MAIhDA,gCAAmE;MAG1CA,aAAoB;MAAAA,iBAAI;MAC3CA,8BAAuB;MAAAA,gCAAe;MAAAA,iBAAI;MAE5CA,gCAAkB;MACGA,aAA8B;MAAAA,iBAAI;MACrDA,8BAAuB;MAAAA,kCAAiB;MAAAA,iBAAI;MAKlDA,gCAAuB;MAGUA,+CAAyB;MAAAA,iBAAI;MAE5DA,gCAA+B;MAC7BA,mEAQM;MACNA,+DAEI;MACJA,+DAII;MACNA,iBAAM;MAGRA,gCAAuB;MAGUA,+DAA+B;MAAAA,iBAAI;MAGlEA,gCAA+B;MAC7BA,mEAOM;MACNA,+DAEI;MACJA,+DAII;MACNA,iBAAM;;;MAjFCA,gBAAwB;MAAxBA,mEAAwB;MAcLA,eAAyC;MAAzCA,4EAAyC;MAC5CA,eAAmB;MAAnBA,gDAAmB;MAOnBA,eAAoB;MAApBA,wCAAoB;MAIpBA,eAA8B;MAA9BA,kDAA8B;MAYVA,eAAgD;MAAhDA,gFAAgD;MASrFA,eAAmC;MAAnCA,wDAAmC;MAGnCA,eAAmD;MAAnDA,4EAAmD;MAehBA,eAAwC;MAAxCA,uEAAwC;MAQ3EA,eAA0B;MAA1BA,+CAA0B;MAG1BA,eAA0C;MAA1CA,mEAA0C","names":["i0","PerfilComponent","constructor","recetasService","registroService","router","ngOnInit","usuario","history","state","obtenerTodos","idUsuarios","subscribe","recetas","favoritosIds","favoritos","map","fav","idRecetas","obtenerFavoritos","recetasFavoritos","mostrarMasRecetas","numRecetasMostradas","volverInicio","navigate","mandarUsuario","mandarUsuarioReceta","recetaId","UsuarioAnyadeReceta","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\perfil\\perfil.component.html","C:\\Users\\L\\Desktop\\helpcook-master\\helpcook-master\\src\\app\\pages\\perfil\\perfil.component.ts"],"sourcesContent":["<!-- Seccion logo -->\n<div class=\"text-center\" style=\"margin-top: 30px\">\n  <a class=\"nav-link\" (click)=\"volverInicio()\"><img src=\"/assets/img/logo.png\" class=\"w-25\" alt=\"\" /></a>\n</div>\n\n<body>\n  <section class=\"h-100 gradient-custom-2\">\n    <div class=\"container py-5 h-100\">\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\n        <div class=\"col col-lg-9 col-xl-7\">\n          <div class=\"card\" style=\"background-color: #edebe6\">\n            <div class=\"rounded-top d-flex flex-row\" style=\"background-color: #d4d0c4; height: 200px\">\n              <!-- Botón Subir Receta -->\n              <!-- <div class=\"d-flex flex-column\">\n                <button type=\"button\" class=\"boton-subir-receta\" routerLink=\"/subirReceta/{{ usuario.idUsuarios }}\">\n                  Subir Receta\n                </button>\n              </div> -->\n              <!-- Foto Usuario -->\n              <div class=\"ms-4 mt-5 d-flex flex-column\" style=\"width: 150px\">\n                <img src=\"{{ usuario.foto }}\" alt=\"Generic placeholder image\" class=\"img-fluid img-thumbnail mt-4 mb-2;\"\n                  style=\"width: 150px; height: 150px; z-index: 1\" />\n                <!-- Botón subir receta -->\n                <button type=\"button\" class=\"boton-subir-receta\" (click)=\"UsuarioAnyadeReceta()\">\n                  Subir receta\n                </button>\n                 <!-- Botón editar perfil -->\n                <button type=\"button\" class=\"boton-edit-perfil\" (click)=\"mandarUsuario()\">\n                  Editar perfil\n                </button>\n              </div>\n\n              <!-- Datos Usuario -->\n              <div class=\"ms-3\" style=\"margin-top: 130px\">\n                <h3 class=\"fw-semibold\">{{ usuario.nombre }} {{usuario.apellido}}</h3>\n                <p class=\"fw-normal\">@{{ usuario.nick }}</p>\n              </div>\n            </div>\n            <!-- Seccion Datos de recetas del Usuario -->\n            <div class=\"p-4\" style=\"background-color: #8b9a8a; color: #edebe6\">\n              <div class=\"d-flex justify-content-end text-center py-1\">\n                <div>\n                  <p class=\"mb-1 h5\">{{ recetas.length }}</p>\n                  <p class=\"normal mb-0\">Recetas subidas</p>\n                </div>\n                <div class=\"px-3\">\n                  <p class=\"mb-1 h5\">{{ usuario.favoritos.length }}</p>\n                  <p class=\"normal mb-0\">Recetas guardadas</p>\n                </div>\n              </div>\n            </div>\n            <!-- Seccion Recetas guardadas por el Usuario -->\n            <div class=\"container\">\n              <div class=\"d-flex justify-content-between align-items-center mb-4 mt-5\"\n                style=\"background-color: #d4d0c4\">\n                <p class=\"lead fw-bold mb-0\">Últimas recetas guardadas</p>\n              </div>\n              <div class=\"recetas-container\">\n                <div class=\"receta\" *ngFor=\"let favorito of recetasFavoritos.slice(0,numRecetasMostradas)\">\n                  <img src=\"{{ favorito.foto }}\" alt=\"{{ favorito.titulo }}\" class=\"w-100 rounded-3\" \n                  routerLink=\"/mostraUnaReceta/{{ favorito.idRecetas }}\"\n                  (click) = \"mandarUsuarioReceta(favorito.idRecetas)\"\n                  />\n                  <div class=\"w-100 rounded-3; titulos\">\n                    {{ favorito.titulo }}\n                  </div>\n                </div>\n                <p *ngIf=\"recetasFavoritos.length === 0\">\n                  No se han encontrado recetas guardadas.\n                </p>\n                <p *ngIf=\"recetasFavoritos.length > numRecetasMostradas\">\n                  <button class=\"btn btn-link mostrar-mas\" (click)=\"mostrarMasRecetas()\">\n                    Mostrar más\n                  </button>\n                </p>\n              </div>\n            </div>\n            <!-- Seccion Recetas subidas por el Usuario -->\n            <div class=\"container\">\n              <div class=\"d-flex justify-content-between align-items-center mb-4 mt-5\"\n                style=\"margin-top: 30px; background-color: #d4d0c4\">\n                <p class=\"lead fw-bold mb-0\">Últimas recetas añadidas por tí</p>\n\n              </div>\n              <div class=\"recetas-container\">\n                <div class=\"receta\" *ngFor=\"let receta of recetas.slice(0, numRecetasMostradas)\">\n                  <img src=\"{{ receta.foto }}\" alt=\"{{ receta.titulo }}\" class=\"w-100 rounded-1\"\n                  (click) = \"mandarUsuarioReceta(receta.idRecetas)\"\n                   >\n                  <div class=\"w-100 rounded-3; titulos\">\n                    {{ receta.titulo }}\n                  </div>\n                </div>\n                <p *ngIf=\"recetas.length === 0\">\n                  No se han encontrado recetas guardadas.\n                </p>\n                <p *ngIf=\"recetas.length > numRecetasMostradas\">\n                  <button class=\"btn btn-link mostrar-mas\" (click)=\"mostrarMasRecetas()\">\n                    Mostrar más\n                  </button>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</body>","import { Component, OnInit } from '@angular/core';\nimport { Usuarios } from 'src/app/Usuarios.model';\nimport { recetasService } from '../mostrar-recetas/recetasService.service';\nimport { Receta } from 'src/app/Receta.model';\nimport { RegistroService } from '../registro/registro-service.service';\nimport { Router } from '@angular/router';\n\n/**\n * Componente para la página el perfil del Usuario\n *\n * Se mostrará los datos del Usuario que acaba de acceder\n */\n@Component({\n  selector: 'app-perfil',\n  templateUrl: './perfil.component.html',\n  styleUrls: ['./perfil.component.css']\n})\nexport class PerfilComponent implements OnInit{\n\n  /**\n   * Objeto para mostrar el usuario\n   */\n  usuario: Usuarios;\n\n  /**\n   * Array de objetos Recetas subidas por el Usuario\n   */\n  recetas: Receta[];\n\n  /**\n   * Array de Recetas que tiene guardadas el usuario como Favoritos\n   */\n  recetasFavoritos: Receta[];\n\n  /**\n   * Variable para controlar el número de recetas que se muestran de los arrays de recetas\n   */\n  numRecetasMostradas: number = 4;\n \n  \n/**\n *  Injectamos los servicios necesarios para el funcionamiento de la página\n * \n * @param recetasService Servicio para conectar con el backEnd\n * @param registroService Servicio para conectar con el backEnd\n * @param router Para el envio del Usuario a otras páginas\n */\n  constructor(private recetasService: recetasService, private registroService: RegistroService,\n    private router: Router) {\n    \n  \n\n  }\n  /**\n   * Método que se carga cuando se inicializa la página\n   * \n   * recibimos el usuario del loggin y recuperamos sus recetas guardadas y recetas subidas\n   */\n  ngOnInit(): void {\n\n    this.usuario = history.state.usuario;\n    \n\n    this.recetasService.obtenerTodos(null, null, this.usuario.idUsuarios, null).subscribe(recetas => {\n      this.recetas = recetas;\n    });\n    \n    let favoritosIds: number[]= this.usuario.favoritos.map(fav => fav.idRecetas);\n   \n    this.recetasService.obtenerFavoritos(favoritosIds).subscribe(recetasFavoritos=>{\n  \n      this.recetasFavoritos = recetasFavoritos;\n  \n    });\n   \n  }\n  /**\n   * Método para el botón mostrar más donde mostramos otras 4 recetas mñas cada vez que se pulsa el botón\n   */\n  mostrarMasRecetas() {\n    this.numRecetasMostradas += 4;\n    \n  }\n\n  /**\n   * Método para el routing a la página de inicio mandando al Usuario\n   */\n  volverInicio(){\n    this.router.navigate([''],{state:{usuario:this.usuario}});\n  }\n  \n/**\n   * Método para el routing a la página de editarPerfil mandando al Usuario\n   */\n  mandarUsuario(){  \n    this.router.navigate(['/editarPerfil'],{state:{usuario:this.usuario}});\n  }\n\n  /**\n   * Método para el routing a la página de mostrar una receta mandando al Usuario\n   */\n  mandarUsuarioReceta(recetaId: number){\n    this.router.navigate(['/mostraUnaReceta'],{state:{usuario:this.usuario,recetaId:recetaId }});\n  }\n\n  /**\n   * Método para el routing a la página añadir una receta\n   */\n  UsuarioAnyadeReceta(){\n    this.router.navigate(['/subirReceta'],{state:{usuario:this.usuario}});\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}